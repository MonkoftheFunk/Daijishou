import{S as K,i as V,s as O,k as b,a as S,q as N,l as P,m as $,c as M,r as I,h,J as D,n as u,b as y,G as v,u as B,H as C,e as J,v as Z,d as q,f as x,g as z,o as fe,K as ue,y as ee,z as le,A as te,B as ae,L as pe,M as me}from"../chunks/index.5d69f454.js";function _e(i){let e,a,l;return{c(){e=b("img"),this.h()},l(t){e=P(t,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){D(e.src,a=i[1]+"platform_wallpapers_packs/"+i[0].platformWallpapersPackRootPath+"/"+i[2].wallpaperList[0].filename)||u(e,"src",a),u(e,"alt",l=i[0].platformWallpapersPackName),u(e,"class","svelte-1u0s6yv")},m(t,r){y(t,e,r)},p(t,r){r&3&&!D(e.src,a=t[1]+"platform_wallpapers_packs/"+t[0].platformWallpapersPackRootPath+"/"+t[2].wallpaperList[0].filename)&&u(e,"src",a),r&1&&l!==(l=t[0].platformWallpapersPackName)&&u(e,"alt",l)},d(t){t&&h(e)}}}function he(i){let e,a,l,t,r,s,o,n=i[0].platformWallpapersPackName+"",m,c,_,W,L=i[0].platformWallpapersPackDescription+"",A,H,T,U,G=i[0].platformWallpapersPackAuthors+"",R,j,E=i[2]&&i[2].wallpaperList&&i[2].wallpaperList.length&&_e(i);return{c(){e=b("article"),a=b("h2"),l=b("a"),t=b("img"),o=S(),m=N(n),_=S(),W=b("p"),A=N(L),H=S(),T=b("p"),U=N("by "),R=N(G),j=S(),E&&E.c(),this.h()},l(d){e=P(d,"ARTICLE",{class:!0});var w=$(e);a=P(w,"H2",{class:!0});var k=$(a);l=P(k,"A",{href:!0,class:!0});var f=$(l);t=P(f,"IMG",{src:!0,alt:!0,class:!0}),o=M(f),m=I(f,n),f.forEach(h),k.forEach(h),_=M(w),W=P(w,"P",{});var g=$(W);A=I(g,L),g.forEach(h),H=M(w),T=P(w,"P",{class:!0});var p=$(T);U=I(p,"by "),R=I(p,G),p.forEach(h),j=M(w),E&&E.l(w),w.forEach(h),this.h()},h(){D(t.src,r=i[1]+"platform_wallpapers_packs/"+i[0].platformWallpapersPackPreviewThumbnailPath)||u(t,"src",r),u(t,"alt",s=i[0].platformWallpapersPackName),u(t,"class","svelte-1u0s6yv"),u(l,"href",c="#/theme/"+i[0].platformWallpapersPackRootPath),u(l,"class","svelte-1u0s6yv"),u(a,"class","svelte-1u0s6yv"),u(T,"class","meta"),u(e,"class","svelte-1u0s6yv")},m(d,w){y(d,e,w),v(e,a),v(a,l),v(l,t),v(l,o),v(l,m),v(e,_),v(e,W),v(W,A),v(e,H),v(e,T),v(T,U),v(T,R),v(e,j),E&&E.m(e,null)},p(d,[w]){w&3&&!D(t.src,r=d[1]+"platform_wallpapers_packs/"+d[0].platformWallpapersPackPreviewThumbnailPath)&&u(t,"src",r),w&1&&s!==(s=d[0].platformWallpapersPackName)&&u(t,"alt",s),w&1&&n!==(n=d[0].platformWallpapersPackName+"")&&B(m,n),w&1&&c!==(c="#/theme/"+d[0].platformWallpapersPackRootPath)&&u(l,"href",c),w&1&&L!==(L=d[0].platformWallpapersPackDescription+"")&&B(A,L),w&1&&G!==(G=d[0].platformWallpapersPackAuthors+"")&&B(R,G),d[2]&&d[2].wallpaperList&&d[2].wallpaperList.length&&E.p(d,w)},i:C,o:C,d(d){d&&h(e),E&&E.d()}}}function ve(i,e,a){let{item:l}=e,{baseUri:t}=e,{details:r}=e,s=r[l.platformWallpapersPackRootPath];return i.$$set=o=>{"item"in o&&a(0,l=o.item),"baseUri"in o&&a(1,t=o.baseUri),"details"in o&&a(3,r=o.details)},[l,t,s,r]}class de extends K{constructor(e){super(),V(this,e,ve,he,O,{item:0,baseUri:1,details:3})}}function ie(i,e,a){const l=i.slice();return l[2]=e[a],l}function we(i){let e,a;return{c(){e=b("p"),a=N("loading..."),this.h()},l(l){e=P(l,"P",{class:!0});var t=$(e);a=I(t,"loading..."),t.forEach(h),this.h()},h(){u(e,"class","loading svelte-e2aq2r")},m(l,t){y(l,e,t),v(e,a)},p:C,i:C,o:C,d(l){l&&h(e)}}}function ke(i){let e,a,l=i[1],t=[];for(let s=0;s<l.length;s+=1)t[s]=ne(ie(i,l,s));const r=s=>q(t[s],1,1,()=>{t[s]=null});return{c(){for(let s=0;s<t.length;s+=1)t[s].c();e=J()},l(s){for(let o=0;o<t.length;o+=1)t[o].l(s);e=J()},m(s,o){for(let n=0;n<t.length;n+=1)t[n]&&t[n].m(s,o);y(s,e,o),a=!0},p(s,o){if(o&3){l=s[1];let n;for(n=0;n<l.length;n+=1){const m=ie(s,l,n);t[n]?(t[n].p(m,o),z(t[n],1)):(t[n]=ne(m),t[n].c(),z(t[n],1),t[n].m(e.parentNode,e))}for(Z(),n=l.length;n<t.length;n+=1)r(n);x()}},i(s){if(!a){for(let o=0;o<l.length;o+=1)z(t[o]);a=!0}},o(s){t=t.filter(Boolean);for(let o=0;o<t.length;o+=1)q(t[o]);a=!1},d(s){ue(t,s),s&&h(e)}}}function ne(i){let e,a;return e=new de({props:{item:i[2],details:i[0],baseUri:Y}}),{c(){ee(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,t){te(e,l,t),a=!0},p(l,t){const r={};t&2&&(r.item=l[2]),t&1&&(r.details=l[0]),e.$set(r)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){q(e.$$.fragment,l),a=!1},d(l){ae(e,l)}}}function ge(i){let e,a,l,t;const r=[ke,we],s=[];function o(n,m){return n[1]?0:1}return e=o(i),a=s[e]=r[e](i),{c(){a.c(),l=J()},l(n){a.l(n),l=J()},m(n,m){s[e].m(n,m),y(n,l,m),t=!0},p(n,[m]){let c=e;e=o(n),e===c?s[e].p(n,m):(Z(),q(s[c],1,1,()=>{s[c]=null}),x(),a=s[e],a?a.p(n,m):(a=s[e]=r[e](n),a.c()),z(a,1),a.m(l.parentNode,l))},i(n){t||(z(a),t=!0)},o(n){q(a),t=!1},d(n){s[e].d(n),n&&h(l)}}}var Y="../";function be(i,e,a){let l=[],t;return fe(async()=>{fetch(`${Y}platform_wallpapers_packs/`).then(r=>r.json()).then(r=>{a(1,t=r.platformWallpapersPackList);for(let s=0;s<t.length;s++)fetch(`${Y}platform_wallpapers_packs/${t[s].platformWallpapersPackRootPath}`).then(o=>o.json()).then(o=>{a(0,l[t[s].platformWallpapersPackRootPath]=o,l)});window.scrollTo(0,0)})}),[l,t]}class Pe extends K{constructor(e){super(),V(this,e,be,ge,O,{})}}function oe(i,e,a){const l=i.slice();return l[2]=e[a],l}function ce(i){let e,a=i[2].matchPlatformShortname+"",l,t,r,s,o,n,m;return{c(){e=b("h3"),l=N(a),t=S(),r=b("a"),s=b("img"),this.h()},l(c){e=P(c,"H3",{});var _=$(e);l=I(_,a),_.forEach(h),t=M(c),r=P(c,"A",{href:!0,target:!0,class:!0});var W=$(r);s=P(W,"IMG",{src:!0,alt:!0}),W.forEach(h),this.h()},h(){D(s.src,o=window.baseUri+window.id+"/"+i[2].filename)||u(s,"src",o),u(s,"alt",n=i[2].matchPlatformShortname),u(r,"href",m=window.baseUri+window.id+"/"+i[2].filename),u(r,"target","_blank"),u(r,"class","svelte-106zs3f")},m(c,_){y(c,e,_),v(e,l),y(c,t,_),y(c,r,_),v(r,s)},p(c,_){_&1&&a!==(a=c[2].matchPlatformShortname+"")&&B(l,a),_&1&&!D(s.src,o=window.baseUri+window.id+"/"+c[2].filename)&&u(s,"src",o),_&1&&n!==(n=c[2].matchPlatformShortname)&&u(s,"alt",n),_&1&&m!==(m=window.baseUri+window.id+"/"+c[2].filename)&&u(r,"href",m)},d(c){c&&h(e),c&&h(t),c&&h(r)}}}function We(i){let e,a,l,t,r,s,o,n,m,c=i[0].name+"",_,W,L,A=i[0].description+"",H,T,U,G,R=i[0].authors+"",j,E,d,w=i[0].wallpaperList,k=[];for(let f=0;f<w.length;f+=1)k[f]=ce(oe(i,w,f));return{c(){e=b("a"),a=N("« back"),l=S(),t=b("article"),r=b("img"),n=S(),m=b("h1"),_=N(c),W=S(),L=b("p"),H=N(A),T=S(),U=b("p"),G=N("by "),j=N(R),E=S(),d=b("div");for(let f=0;f<k.length;f+=1)k[f].c();this.h()},l(f){e=P(f,"A",{href:!0,class:!0});var g=$(e);a=I(g,"« back"),g.forEach(h),l=M(f),t=P(f,"ARTICLE",{class:!0});var p=$(t);r=P(p,"IMG",{class:!0,src:!0,alt:!0}),n=M(p),m=P(p,"H1",{class:!0});var F=$(m);_=I(F,c),F.forEach(h),W=M(p),L=P(p,"P",{});var se=$(L);H=I(se,A),se.forEach(h),T=M(p),U=P(p,"P",{class:!0});var Q=$(U);G=I(Q,"by "),j=I(Q,R),Q.forEach(h),p.forEach(h),E=M(f),d=P(f,"DIV",{class:!0});var re=$(d);for(let X=0;X<k.length;X+=1)k[X].l(re);re.forEach(h),this.h()},h(){u(e,"href",i[1]),u(e,"class","svelte-106zs3f"),u(r,"class","thumb"),D(r.src,s=window.baseUri+window.id+"/"+i[0].previewThumbnailFilename)||u(r,"src",s),u(r,"alt",o=i[0].platformWallpapersPackName),u(m,"class","svelte-106zs3f"),u(U,"class","meta"),u(t,"class","svelte-106zs3f"),u(d,"class","art")},m(f,g){y(f,e,g),v(e,a),y(f,l,g),y(f,t,g),v(t,r),v(t,n),v(t,m),v(m,_),v(t,W),v(t,L),v(L,H),v(t,T),v(t,U),v(U,G),v(U,j),y(f,E,g),y(f,d,g);for(let p=0;p<k.length;p+=1)k[p]&&k[p].m(d,null)},p(f,[g]){if(g&2&&u(e,"href",f[1]),g&1&&!D(r.src,s=window.baseUri+window.id+"/"+f[0].previewThumbnailFilename)&&u(r,"src",s),g&1&&o!==(o=f[0].platformWallpapersPackName)&&u(r,"alt",o),g&1&&c!==(c=f[0].name+"")&&B(_,c),g&1&&A!==(A=f[0].description+"")&&B(H,A),g&1&&R!==(R=f[0].authors+"")&&B(j,R),g&1){w=f[0].wallpaperList;let p;for(p=0;p<w.length;p+=1){const F=oe(f,w,p);k[p]?k[p].p(F,g):(k[p]=ce(F),k[p].c(),k[p].m(d,null))}for(;p<k.length;p+=1)k[p].d(1);k.length=w.length}},i:C,o:C,d(f){f&&h(e),f&&h(l),f&&h(t),f&&h(E),f&&h(d),ue(k,f)}}}function $e(i,e,a){let{item:l}=e,{returnTo:t}=e;return i.$$set=r=>{"item"in r&&a(0,l=r.item),"returnTo"in r&&a(1,t=r.returnTo)},[l,t]}class Ee extends K{constructor(e){super(),V(this,e,$e,We,O,{item:0,returnTo:1})}}const{window:ye}=me;function Le(i){let e,a;return e=new Pe({}),{c(){ee(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,t){te(e,l,t),a=!0},p:C,i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){q(e.$$.fragment,l),a=!1},d(l){ae(e,l)}}}function Te(i){let e,a;return e=new Ee({props:{item:i[0],returnTo:"#/top/"}}),{c(){ee(e.$$.fragment)},l(l){le(e.$$.fragment,l)},m(l,t){te(e,l,t),a=!0},p(l,t){const r={};t&1&&(r.item=l[0]),e.$set(r)},i(l){a||(z(e.$$.fragment,l),a=!0)},o(l){q(e.$$.fragment,l),a=!1},d(l){ae(e,l)}}}function Ue(i){let e,a,l,t,r,s;const o=[Te,Le],n=[];function m(c,_){return c[0]?0:1}return a=m(i),l=n[a]=o[a](i),{c(){e=b("main"),l.c(),this.h()},l(c){e=P(c,"MAIN",{class:!0});var _=$(e);l.l(_),_.forEach(h),this.h()},h(){u(e,"class","svelte-1g8xn82")},m(c,_){y(c,e,_),n[a].m(e,null),t=!0,r||(s=pe(ye,"hashchange",i[1]),r=!0)},p(c,[_]){let W=a;a=m(c),a===W?n[a].p(c,_):(Z(),q(n[W],1,1,()=>{n[W]=null}),x(),l=n[a],l?l.p(c,_):(l=n[a]=o[a](c),l.c()),z(l,1),l.m(e,null))},i(c){t||(z(l),t=!0)},o(c){q(l),t=!1},d(c){c&&h(e),n[a].d(),r=!1,s()}}}function Ne(i,e,a){let l;async function t(){const r=window.location.hash.slice(1);r.startsWith("/theme")?(window.id=r.slice(6),a(0,l=await fetch(`${baseUri}platform_wallpapers_packs/${window.id}`).then(s=>s.json())),window.scrollTo(0,0)):r.startsWith("/")&&(a(0,l=null),window.id=null)}return fe(t),[l,t]}class Ae extends K{constructor(e){super(),V(this,e,Ne,Ue,O,{})}}export{Ae as default};
